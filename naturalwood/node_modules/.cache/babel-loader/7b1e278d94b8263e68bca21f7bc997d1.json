{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Hp/Desktop/NaturalWood/naturalwood/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Hp/Desktop/NaturalWood/naturalwood/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Hp/Desktop/NaturalWood/naturalwood/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:/Users/Hp/Desktop/NaturalWood/naturalwood/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import React,{useState}from'react';import{Link}from'react-router-dom';import styled from'styled-components';import{login}from'../redux/apiCalles';import{mobile}from'../responsive';import'./login.css';import{useDispatch,useSelector}from'react-redux';import{VALIDATOR_REQUIRE,VALIDATOR_MINLENGTH,VALIDATOR_EMAIL}from'../shared/util/validators';import{useForm}from'../shared/hooks/form-hook';import Input from'../shared/components/Input';import Button from'../shared/components/Button';import Google from'../shared/components/img/google.png';import facebook from'../shared/components/img/fac.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n      width:100vw;\\n      height:100vh;\\n      background-color:#EEE2DC;\\n      background:linear-gradient(rgba(225,225,225,0.5),rgba(225,225,225,0.5));\\n      display:flex;\\n      align-items:center;\\n      justify-content:center;\\n      \"])));var Wrapper=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n      padding:20px;\\n      width:40%;\\n      background-color:white;\\n      border:2px solid gray;\\n      \",\"; \"])),mobile({width:\"75%\",alignItems:\"center\"}));var Form=styled.form(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n      display:flex;\\n      flex-wrap:wrap;\\n      flex-direction:column;\"])));// const Input =styled.input`\n// flex:1;\n// min-width:40%;\n// margin:20px 10px 0px 5px;\n// padding:10px;`\n// const Button =styled.button`\n// display:flex;\n// justify-content:center;\n// align-items:center;\n// width:40%;\n// font-size:15px;\n// margin-top :20px;\n// padding:15px;\n// margin-left:100px;\n// border:2px solid gray;\n// background-color:gray;\n// cursor:pointer;\n// font-weight:500;\n// &:hover{\n//  background-color : #f8f4f4;\n// };\n// &disabled{\n//   color:white;\n//   cursor:not-allowed;\n// };\n// ${mobile({marginLeft:\"70px\"})};`\nvar Title=styled.h1(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n      font-size:24px;\\n      font-weight:300px;\"])));//       const Link = styled.a`\n// margin:10px 0px;\n// font-size:12px;\n// text-decoration:underline;\n// cursor:pointer;`\nvar Error=styled.span(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\ncolor:red;\"])));var Login=function Login(){// const [email, setEmail] = useState(\"\");\n// const [password, setPassword] = useState(\"\");\n// const dispatch = useDispatch();\n// const { isFetching, error } = useSelector(usersSelector);\n// const authContext = useContext(AuthContext);\n// const [successful, setSuccessful] = useState(false);\n// const [message, setMessage] = useState(\"\");\n// const handleClick = async(e) => {\n//   e.preventDefault();\n//     try{\n// const res =  await userRequest.post(\"/auth/login\",{\n//   email,\n//   password\n// });\n//  authContext.login(res.data.id);\n//  console.log(res.data);\n//     }catch(err){\n//       console.log(err);\n//     }\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.user;}),isFetching=_useSelector.isFetching;var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],seterror=_useState6[1];var handleClick=function handleClick(e){e.preventDefault();seterror(false);try{login(dispatch,{email:email,password:password});}catch(err){seterror(true);}};var _useForm=useForm({email:{value:'',isValid:false},password:{value:'',isValid:false}},false),_useForm2=_slicedToArray(_useForm,3),formState=_useForm2[0],inputHandler=_useForm2[1],setFormData=_useForm2[2];var authSubmitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();console.log(formState.inputs);try{login(dispatch,{email:formState.inputs.email.value,password:formState.inputs.password.value});}catch(err){}case 3:case\"end\":return _context.stop();}}},_callee);}));return function authSubmitHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/ (//     <Container>\n//       <Wrapper>\n//         <Title>SIGN IN</Title>\n//         <Form>\n//           <Input\n//             placeholder=\"username\"\n//             value={username}\n//             onChange={(e) => setUsername(e.target.value)}\n//           />\n//           <Input\n//             placeholder=\"password\"\n//             type=\"password\"\n//             value={password}\n//             onChange={(e) => setPassword(e.target.value)}\n//           />\n//           <Button onClick={handleClick} disabled={isFetching}>\n//             LOGIN\n//           </Button>\n//           {error && <Error>Something went wrong...</Error>}\n//           <Link>DO NOT YOU REMEMBER THE PASSWORD?</Link>\n//           <Link>CREATE A NEW ACCOUNT</Link>\n//         </Form>\n//       </Wrapper>\n//     </Container>\n//   );\n// };\n_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"loginTitle\",children:\"Login \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"center\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:authSubmitHandler,children:[/*#__PURE__*/_jsx(Input,{id:\"email\",element:\"input\",type:\"email\",label:\"E-Mail\",validators:[VALIDATOR_EMAIL()],errorText:\"Please Enter Youre valid Email\",onInput:inputHandler}),/*#__PURE__*/_jsx(Input,{id:\"password\",element:\"input\",type:\"password\",label:\"Password\",validators:[VALIDATOR_MINLENGTH(5)],errorText:\"Please Enter Youre valid Password\",onInput:inputHandler}),/*#__PURE__*/_jsx(Button,{children:\"Log In\"})]})}),/*#__PURE__*/_jsx(Link,{className:\"link\",to:\"/register\",children:\"CREATE A NEW ACCOUNT\"})]})]}));};export default Login;","map":{"version":3,"sources":["C:/Users/Hp/Desktop/NaturalWood/naturalwood/src/Pages/Login.js"],"names":["React","useState","Link","styled","login","mobile","useDispatch","useSelector","VALIDATOR_REQUIRE","VALIDATOR_MINLENGTH","VALIDATOR_EMAIL","useForm","Input","Button","Google","facebook","Container","div","Wrapper","width","alignItems","Form","form","Title","h1","Error","span","Login","email","setEmail","password","setPassword","dispatch","state","user","isFetching","error","seterror","handleClick","e","preventDefault","err","value","isValid","formState","inputHandler","setFormData","authSubmitHandler","event","console","log","inputs"],"mappings":"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","sourcesContent":["import React ,{useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n     \r\n        import styled from 'styled-components';\r\nimport { login } from '../redux/apiCalles';\r\n      import { mobile } from '../responsive';\r\nimport './login.css';\r\n      import {useDispatch ,useSelector} from 'react-redux';\r\n      import {\r\n        VALIDATOR_REQUIRE,\r\n        VALIDATOR_MINLENGTH,VALIDATOR_EMAIL\r\n      } from '../shared/util/validators'\r\n      import { useForm} from '../shared/hooks/form-hook';\r\nimport Input from '../shared/components/Input';\r\nimport Button  from '../shared/components/Button';\r\n\r\n\r\nimport Google from '../shared/components/img/google.png';\r\nimport facebook from '../shared/components/img/fac.png';\r\n\r\n\r\n      const Container =styled.div`\r\n      width:100vw;\r\n      height:100vh;\r\n      background-color:#EEE2DC;\r\n      background:linear-gradient(rgba(225,225,225,0.5),rgba(225,225,225,0.5));\r\n      display:flex;\r\n      align-items:center;\r\n      justify-content:center;\r\n      `\r\n      const Wrapper =styled.div`\r\n      padding:20px;\r\n      width:40%;\r\n      background-color:white;\r\n      border:2px solid gray;\r\n      ${mobile({width:\"75%\" , alignItems:\"center\"})}; `\r\n      const Form =styled.form`\r\n      display:flex;\r\n      flex-wrap:wrap;\r\n      flex-direction:column;`\r\n      // const Input =styled.input`\r\n      // flex:1;\r\n      // min-width:40%;\r\n      // margin:20px 10px 0px 5px;\r\n      // padding:10px;`\r\n      // const Button =styled.button`\r\n      \r\n      // display:flex;\r\n      // justify-content:center;\r\n      // align-items:center;\r\n      // width:40%;\r\n      // font-size:15px;\r\n      // margin-top :20px;\r\n      // padding:15px;\r\n      // margin-left:100px;\r\n      // border:2px solid gray;\r\n      // background-color:gray;\r\n      // cursor:pointer;\r\n      // font-weight:500;\r\n      \r\n      // &:hover{\r\n      //  background-color : #f8f4f4;\r\n      // };\r\n      // &disabled{\r\n      //   color:white;\r\n      //   cursor:not-allowed;\r\n      // };\r\n      // ${mobile({marginLeft:\"70px\"})};`\r\n      const Title =styled.h1\r\n      `\r\n      font-size:24px;\r\n      font-weight:300px;`\r\n//       const Link = styled.a`\r\n// margin:10px 0px;\r\n// font-size:12px;\r\n// text-decoration:underline;\r\n// cursor:pointer;`\r\nconst Error = styled.span`\r\ncolor:red;`\r\n      \r\nconst Login = () => {\r\n  // const [email, setEmail] = useState(\"\");\r\n  // const [password, setPassword] = useState(\"\");\r\n  // const dispatch = useDispatch();\r\n  // const { isFetching, error } = useSelector(usersSelector);\r\n  // const authContext = useContext(AuthContext);\r\n  // const [successful, setSuccessful] = useState(false);\r\n  // const [message, setMessage] = useState(\"\");\r\n  // const handleClick = async(e) => {\r\n  //   e.preventDefault();\r\n//     try{\r\n// const res =  await userRequest.post(\"/auth/login\",{\r\n//   email,\r\n//   password\r\n// });\r\n//  authContext.login(res.data.id);\r\n//  console.log(res.data);\r\n \r\n//     }catch(err){\r\n//       console.log(err);\r\n\r\n//     }\r\n   \r\nconst [email, setEmail] = useState(\"\");\r\nconst [password, setPassword] = useState(\"\");\r\nconst dispatch = useDispatch();\r\nconst { isFetching } = useSelector((state) => state.user);\r\nconst[error,seterror]=useState(false);\r\n\r\nconst handleClick = (e) => {\r\n  e.preventDefault();\r\n  seterror(false);\r\n  try{\r\n  login(dispatch, {email, password });}\r\n  catch(err){\r\n    seterror(true);\r\n  }\r\n};\r\n\r\n\r\nconst [formState,inputHandler , setFormData]= useForm({\r\n  email:{\r\nvalue :'',\r\nisValid:false}\r\n,\r\npassword:{\r\n  value :'',\r\n  isValid:false\r\n}\r\n}\r\n, false);\r\nconst authSubmitHandler = async event => {\r\n  event.preventDefault();\r\nconsole.log(formState.inputs);\r\ntry{\r\n  login(dispatch, {email:formState.inputs.email.value\r\n    ,password:formState.inputs.password.value});}\r\n  catch(err){\r\n \r\n  } }\r\n  \r\n\r\n\r\n  return (\r\n \r\n//     <Container>\r\n//       <Wrapper>\r\n//         <Title>SIGN IN</Title>\r\n//         <Form>\r\n//           <Input\r\n//             placeholder=\"username\"\r\n//             value={username}\r\n//             onChange={(e) => setUsername(e.target.value)}\r\n//           />\r\n//           <Input\r\n//             placeholder=\"password\"\r\n//             type=\"password\"\r\n//             value={password}\r\n//             onChange={(e) => setPassword(e.target.value)}\r\n//           />\r\n//           <Button onClick={handleClick} disabled={isFetching}>\r\n//             LOGIN\r\n//           </Button>\r\n//           {error && <Error>Something went wrong...</Error>}\r\n//           <Link>DO NOT YOU REMEMBER THE PASSWORD?</Link>\r\n//           <Link>CREATE A NEW ACCOUNT</Link>\r\n//         </Form>\r\n//       </Wrapper>\r\n//     </Container>\r\n//   );\r\n// };\r\n<div className=\"login\">\r\n<h1 className = \"loginTitle\">Login </h1>\r\n<div className=\"wrapper\">\r\n{/* <div className=\"left\">\r\n  <div className=\"loginButton google\">\r\n    <img width=\"40px\" height=\"40px\"src={Google} alt=\"\" className=\"icon\"/>\r\n    Google\r\n  </div>\r\n  <div className=\"loginButton facebook\">\r\n    <img width=\"40px\" height=\"40px\"src={facebook} alt=\"\" className=\"icon\"/>\r\n   Facebook\r\n  </div>\r\n\r\n</div>\r\n<div className=\"center\">\r\n    <div className=\"line\"/>\r\n    <div className=\"or\">OR</div> */}\r\n \r\n<div className=\"center\">\r\n  {/* <Form  >\r\n  <input  className=\"input\" type=\"text\" placeholder=\"Email\" onChange={e=>setEmail(e.target.value)}/>\r\n        \r\n  <input  className=\"input\"  type=\"password\" placeholder=\"Password\"  onChange={e=>setPassword(e.target.value)}\r\n/>\r\n  <button className=\"submit\" onClick={handleClick}>LogIn</button>\r\n <span className=\"link\"> {error && <Error>Something went wrong...</Error>}</span>\r\n \r\n   <Link className=\"link\"to=\"/register\">CREATE A NEW ACCOUNT</Link>\r\n   <Link className=\"link\">Forgot Passowrd ?</Link>\r\n  </Form> */}\r\n    <form  onSubmit={authSubmitHandler}>\r\n     \r\n     \r\n      \r\n           <Input\r\n           id=\"email\"\r\n            element =\"input\" \r\n           type=\"email\"\r\n           label=\"E-Mail\"\r\n           validators ={[VALIDATOR_EMAIL()]}\r\n            errorText=\"Please Enter Youre valid Email\"\r\n            onInput={inputHandler}\r\n          \r\n           />\r\n                <Input\r\n           id=\"password\"\r\n            element =\"input\" \r\n           type=\"password\"\r\n           label=\"Password\"\r\n           validators ={[VALIDATOR_MINLENGTH(5)]}\r\n            errorText=\"Please Enter Youre valid Password\"\r\n            onInput={inputHandler}\r\n          \r\n           />\r\n           <Button>Log In</Button>\r\n       </form>\r\n      \r\n</div>\r\n <Link className=\"link\"to=\"/register\">CREATE A NEW ACCOUNT</Link>\r\n</div></div>\r\n  );\r\n};\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}