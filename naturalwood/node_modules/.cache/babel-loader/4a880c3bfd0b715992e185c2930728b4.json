{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hp\\\\Desktop\\\\NaturalWood\\\\naturalwood\\\\src\\\\shared\\\\components\\\\Products.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router';\nimport styled from 'styled-components';\nimport { populerproducts } from './data';\nimport Product from './Product';\nimport { mobile } from '../../responsive';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\npadding:20px;\ndisplay:flex;\nflex-wrap:wrap;\njustify-content:space-between\nmargin:20px;\n${mobile({\n  width: \"50%\"\n})};\n`;\n_c = Container;\nconst Image = styled.div`\nwidth:50%;\nheight:50%;`;\n_c2 = Image;\n\nconst Products = _ref => {\n  _s();\n\n  let {\n    cat,\n    filter,\n    sort\n  } = _ref;\n  const [products, setProducts] = useState([]);\n  const [filterProduct, setfilterProduct] = useState([]);\n  useEffect(() => {\n    const getProducts = async () => {\n      try {\n        const res = await axios.get(cat ? `http://localhost:5000/api/products?category=${cat}` : \"http://localhost:5000/api/products/\");\n        console.log(res);\n        setProducts(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    getProducts();\n  }, [cat]);\n  useEffect(() => {\n    cat && setfilterProduct(products.filter(item => Object.entries(filter).every(_ref2 => {\n      let [key, value] = _ref2;\n      return item[key].includes(value);\n    })));\n  }, [products, cat, filter]);\n  useEffect(() => {\n    if (sort === \"price\") {\n      setfilterProduct(prev => [...prev].sort((a, b) => a.createdAt - b.createdAt));\n    } else if (sort === \"asc\") {\n      setfilterProduct(prev => [...prev].sort((a, b) => a.price - b.price));\n    } else if (sort === \"desc\") {\n      setfilterProduct(prev => [...prev].sort((a, b) => b.price - a.price));\n    }\n  }, [sort]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: cat ? filterProduct.map(item => /*#__PURE__*/_jsxDEV(Product, {\n      item: item\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this)) : products.map(item => /*#__PURE__*/_jsxDEV(Image, {\n      children: [\"   \", /*#__PURE__*/_jsxDEV(Product, {\n        item: item\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 20\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 10\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 7\n  }, this);\n};\n\n_s(Products, \"/mfC+lhePkhOrZozRot+He5yQj8=\");\n\n_c3 = Products;\nexport default Products;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Image\");\n$RefreshReg$(_c3, \"Products\");","map":{"version":3,"sources":["C:/Users/Hp/Desktop/NaturalWood/naturalwood/src/shared/components/Products.js"],"names":["axios","React","useState","useEffect","useLocation","styled","populerproducts","Product","mobile","Container","div","width","Image","Products","cat","filter","sort","products","setProducts","filterProduct","setfilterProduct","getProducts","res","get","console","log","data","err","item","Object","entries","every","key","value","includes","prev","a","b","createdAt","price","map","id"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React ,{useState , useEffect}from 'react'\r\nimport { useLocation } from 'react-router';\r\nimport styled from 'styled-components';\r\nimport { populerproducts } from './data';\r\nimport Product from './Product';\r\nimport { mobile } from '../../responsive';\r\n\r\n\r\nconst Container = styled.div`\r\npadding:20px;\r\ndisplay:flex;\r\nflex-wrap:wrap;\r\njustify-content:space-between\r\nmargin:20px;\r\n${mobile({width:\"50%\"})};\r\n`\r\nconst Image = styled.div`\r\nwidth:50%;\r\nheight:50%;`\r\nconst Products =({cat , filter , sort})=> {\r\n   \r\n    const [products,setProducts]=useState([]);\r\n    const [filterProduct , setfilterProduct]=useState([]);\r\nuseEffect(() => {\r\n const getProducts = async ()=>{\r\n     try{\r\n         const res = await axios.get( cat ?`http://localhost:5000/api/products?category=${cat}` : \"http://localhost:5000/api/products/\"\r\n         );\r\n         console.log(res);\r\n         setProducts(res.data);\r\n     }\r\n     catch(err){\r\n     console.log(err);\r\n     }\r\n     \r\n }\r\n getProducts()\r\n    \r\n}, [cat]);\r\nuseEffect(() => {\r\n    cat && setfilterProduct(\r\n        products.filter((item)=> Object.entries(filter).every(([key,value])=>\r\n            item[key].includes(value)\r\n            )\r\n            )\r\n            );\r\n \r\n}, [products,cat,filter]);\r\n\r\nuseEffect(() => {\r\n    if(sort === \"price\"){\r\nsetfilterProduct(prev=>\r\n    [...prev].sort((a,b)=>a.createdAt - b.createdAt)\r\n);}\r\n    else   if(sort === \"asc\"){\r\n        setfilterProduct(prev=>\r\n            [...prev].sort((a,b)=>a.price - b.price)\r\n        );\r\n            }else  if(sort === \"desc\") {\r\n                setfilterProduct(prev=>\r\n                    [...prev].sort((a,b)=>b.price - a.price)\r\n                );\r\n                    }\r\n   \r\n    \r\n}, [sort]);\r\n    return (\r\n      <Container>\r\n          {/* these use to show all pproducts */}\r\n  {/* {populerproducts.map((item)=>(\r\n        <Product item={item} key={item.id}/> ))} */}\r\n        {/* these use for show filterd product */}\r\n       { cat ? filterProduct.map((item)=>\r\n        <Product item={item} key={item.id} />) :\r\n        products.map((item)=>(\r\n         <Image>   <Product item={item} key={item.id}/></Image> ))\r\n    }\r\n     </Container>\r\n    )\r\n}\r\nexport default Products\r\n"]},"metadata":{},"sourceType":"module"}