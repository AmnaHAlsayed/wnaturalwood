{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Hp/Desktop/NaturalWood/naturalwood/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"C:/Users/Hp/Desktop/NaturalWood/naturalwood/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Hp/Desktop/NaturalWood/naturalwood/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Hp/Desktop/NaturalWood/naturalwood/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:/Users/Hp/Desktop/NaturalWood/naturalwood/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2;import axios from'axios';import React,{useState,useEffect}from'react';import{useLocation}from'react-router';import styled from'styled-components';import{populerproducts}from'./data';import Product from'./Product';import{mobile}from'../../responsive';import{jsx as _jsx}from\"react/jsx-runtime\";var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\npadding:20px;\\ndisplay:flex;\\nflex-wrap:wrap;\\njustify-content:space-between\\nmargin:20px;\\n\",\";\\n\"])),mobile({width:\"50%\"}));var Image=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\nwidth:500px;\\nheight:50;\"])));var Products=function Products(_ref){var cat=_ref.cat,filter=_ref.filter,sort=_ref.sort;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),filterProduct=_useState4[0],setfilterProduct=_useState4[1];useEffect(function(){var getProducts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(cat?\"http://localhost:5000/api/products?category=\".concat(cat):\"http://localhost:5000/api/products/\");case 3:res=_context.sent;console.log(res);setProducts(res.data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function getProducts(){return _ref2.apply(this,arguments);};}();getProducts();},[cat]);useEffect(function(){cat&&setfilterProduct(products.filter(function(item){return Object.entries(filter).every(function(_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],value=_ref4[1];return item[key].includes(value);});}));},[products,cat,filter]);useEffect(function(){if(sort===\"price\"){setfilterProduct(function(prev){return _toConsumableArray(prev).sort(function(a,b){return a.createdAt-b.createdAt;});});}else if(sort===\"asc\"){setfilterProduct(function(prev){return _toConsumableArray(prev).sort(function(a,b){return a.price-b.price;});});}else if(sort===\"desc\"){setfilterProduct(function(prev){return _toConsumableArray(prev).sort(function(a,b){return b.price-a.price;});});}},[sort]);return/*#__PURE__*/_jsx(Container,{children:cat?filterProduct.map(function(item){return/*#__PURE__*/_jsx(Product,{item:item},item.id);}):products.map(function(item){return/*#__PURE__*/_jsx(Product,{item:item},item.id);})});};export default Products;","map":{"version":3,"sources":["C:/Users/Hp/Desktop/NaturalWood/naturalwood/src/shared/components/Products.js"],"names":["axios","React","useState","useEffect","useLocation","styled","populerproducts","Product","mobile","Container","div","width","Image","Products","cat","filter","sort","products","setProducts","filterProduct","setfilterProduct","getProducts","get","res","console","log","data","item","Object","entries","every","key","value","includes","prev","a","b","createdAt","price","map","id"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React ,{useState , useEffect}from 'react'\r\nimport { useLocation } from 'react-router';\r\nimport styled from 'styled-components';\r\nimport { populerproducts } from './data';\r\nimport Product from './Product';\r\nimport { mobile } from '../../responsive';\r\n\r\n\r\nconst Container = styled.div`\r\npadding:20px;\r\ndisplay:flex;\r\nflex-wrap:wrap;\r\njustify-content:space-between\r\nmargin:20px;\r\n${mobile({width:\"50%\"})};\r\n`\r\nconst Image = styled.div`\r\nwidth:500px;\r\nheight:50;`\r\nconst Products =({cat , filter , sort})=> {\r\n   \r\n    const [products,setProducts]=useState([]);\r\n    const [filterProduct , setfilterProduct]=useState([]);\r\nuseEffect(() => {\r\n const getProducts = async ()=>{\r\n     try{\r\n         const res = await axios.get( cat ?`http://localhost:5000/api/products?category=${cat}` : \"http://localhost:5000/api/products/\"\r\n         );\r\n         console.log(res);\r\n         setProducts(res.data);\r\n     }\r\n     catch(err){\r\n     console.log(err);\r\n     }\r\n     \r\n }\r\n getProducts()\r\n    \r\n}, [cat]);\r\nuseEffect(() => {\r\n    cat && setfilterProduct(\r\n        products.filter((item)=> Object.entries(filter).every(([key,value])=>\r\n            item[key].includes(value)\r\n            )\r\n            )\r\n            );\r\n \r\n}, [products,cat,filter]);\r\n\r\nuseEffect(() => {\r\n    if(sort === \"price\"){\r\nsetfilterProduct(prev=>\r\n    [...prev].sort((a,b)=>a.createdAt - b.createdAt)\r\n);}\r\n    else   if(sort === \"asc\"){\r\n        setfilterProduct(prev=>\r\n            [...prev].sort((a,b)=>a.price - b.price)\r\n        );\r\n            }else  if(sort === \"desc\") {\r\n                setfilterProduct(prev=>\r\n                    [...prev].sort((a,b)=>b.price - a.price)\r\n                );\r\n                    }\r\n   \r\n    \r\n}, [sort]);\r\n    return (\r\n      <Container>\r\n          {/* these use to show all pproducts */}\r\n  {/* {populerproducts.map((item)=>(\r\n        <Product item={item} key={item.id}/> ))} */}\r\n        {/* these use for show filterd product */}\r\n       { cat ? filterProduct.map((item)=>\r\n        <Product item={item} key={item.id} />) :\r\n        products.map((item)=>(\r\n            <Product item={item} key={item.id}/> ))\r\n    }\r\n     </Container>\r\n    )\r\n}\r\nexport default Products\r\n"]},"metadata":{},"sourceType":"module"}